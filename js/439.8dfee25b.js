"use strict";(globalThis["webpackChunktbls"]=globalThis["webpackChunktbls"]||[]).push([[439],{2439:(e,o,t)=>{t.r(o),t.d(o,{default:()=>ce});var a=t(1758),l=t(6683),n=t(2901);const r={class:"page-wrap print-hide custom-scrollbar-color"},s={class:"col-12 row"},i={class:"text-h5 text-primary"},d={class:"col-12 col-md-4"},u={class:"field-label"},c={class:"col-12 col-md-4"},m={class:"field-label"},p={class:"col-12 col-md-4"},v={class:"field-label"},g={class:"row items-center justify-end q-gutter-sm q-pa-sm"},b={class:"q-mt-md"},_={class:"col-12 col-md-6"},y={class:"text-body2"},f={class:"text-grey-8"},w={class:"col-12 col-md-6"},h={class:"text-body1 text-grey-7"},k={class:"text-h6 text-primary text-weight-bold"},F={class:"text-body2 text-grey-7"},C={class:"text-subtitle2 text-weight-medium"},q={class:"sticky-actions q-pa-sm"},P={class:"q-mx-md"},S={class:"text-h6"};function R(e,o,t,R,x,V){const A=(0,a.g2)("ReceiveGoodsPrint"),$=(0,a.g2)("q-icon"),D=(0,a.g2)("q-item-section"),N=(0,a.g2)("q-item"),T=(0,a.g2)("q-select"),I=(0,a.g2)("q-btn"),L=(0,a.g2)("q-date"),E=(0,a.g2)("q-popup-proxy"),Q=(0,a.g2)("q-input"),U=(0,a.g2)("q-card-section"),K=(0,a.g2)("q-card"),W=(0,a.g2)("q-th"),O=(0,a.g2)("q-tr"),G=(0,a.g2)("q-td"),M=(0,a.g2)("q-tooltip"),j=(0,a.g2)("q-table"),B=(0,a.g2)("q-separator"),H=(0,a.g2)("q-banner"),Y=(0,a.g2)("q-toggle"),z=(0,a.g2)("q-avatar"),X=(0,a.g2)("q-card-actions"),J=(0,a.g2)("q-dialog"),Z=(0,a.g2)("q-page"),ee=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(Z,{class:"page-container"},{default:(0,a.k6)((()=>[(0,a.bF)(A,{"print-data":R.printData,"paginated-rows":R.paginatedRows},null,8,["print-data","paginated-rows"]),(0,a.bF)(l.eB,{appear:"","enter-active-class":"animated fadeIn"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",r,[(0,a.bF)(K,{class:"card header-card"},{default:(0,a.k6)((()=>[(0,a.bF)(U,{class:"row q-col-gutter-md items-end"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",s,[(0,a.Lk)("div",i,(0,n.v_)(e.$t("receivegoods.title")),1)]),(0,a.Lk)("div",d,[(0,a.Lk)("div",u,(0,n.v_)(e.$t("receivegoods.view_receivegoods.customer")),1),(0,a.bF)(T,{dense:"",filled:"",clearable:"",modelValue:R.selectedCustomer,"onUpdate:modelValue":o[0]||(o[0]=e=>R.selectedCustomer=e),rules:[R.validate.customerRule],options:R.customerFilteredOptions,onFilter:R.onCustomerFilter,"input-debounce":"600","use-input":R.customerUseInput,behavior:"menu","emit-value":"","map-options":"","option-label":e=>e?.label??"","option-value":e=>e?.value??null,loading:R.loading,disable:R.loading,error:R.customerError,"error-message":e.$t("error.input.enterValue"),hint:"Start typing to search",class:"input-field",onPopupHide:R.onCustomerSelected,onPopupShow:R.onCustomerPopupShow,onClear:R.onCustomerCleared,"lazy-rules":""},{prepend:(0,a.k6)((()=>[(0,a.bF)($,{name:"sym_r_people"})])),"no-option":(0,a.k6)((()=>[(0,a.bF)(N,null,{default:(0,a.k6)((()=>[(0,a.bF)(D,{class:"text-grey"},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.$t("noResults")),1)])),_:1})])),_:1})])),_:1},8,["modelValue","rules","options","onFilter","use-input","option-label","option-value","loading","disable","error","error-message","onPopupHide","onPopupShow","onClear"])]),(0,a.Lk)("div",c,[(0,a.Lk)("div",m,(0,n.v_)(e.$t("receivegoods.view_receivegoods.company")+` (${e.$t("optional")})`),1),(0,a.bF)(T,{dense:"",filled:"",clearable:"",modelValue:R.selectedCompany,"onUpdate:modelValue":o[1]||(o[1]=e=>R.selectedCompany=e),options:R.companyFilteredOptions,onFilter:R.onCompanyFilter,"input-debounce":"600","use-input":R.companyUseInput,behavior:"menu",rules:[R.validate.companyRule],"emit-value":"","map-options":"","option-label":e=>e?.label??"","option-value":e=>e?.value??null,loading:R.loading,disable:R.loading,hint:"Start typing to search",class:"input-field",maxlength:"50",onPopupHide:R.onCompanySelected,onPopupShow:R.onCompanyPopupShow,onClear:R.onCompanyCleared},{prepend:(0,a.k6)((()=>[(0,a.bF)($,{name:"sym_r_business"})])),"no-option":(0,a.k6)((()=>[(0,a.bF)(N,null,{default:(0,a.k6)((()=>[(0,a.bF)(D,{class:"text-grey"},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.$t("noResults")),1)])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter","use-input","rules","option-label","option-value","loading","disable","onPopupHide","onPopupShow","onClear"])]),(0,a.Lk)("div",p,[(0,a.Lk)("div",v,(0,n.v_)(e.$t("receivegoods.date")),1),(0,a.bF)(Q,{dense:"",filled:"",modelValue:R.receivedDate,"onUpdate:modelValue":o[3]||(o[3]=e=>R.receivedDate=e),mask:"##/##/####",rules:[R.validate.dateRule],class:"input-field"},{append:(0,a.k6)((()=>[(0,a.bF)($,{name:"sym_r_event",color:"primary",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(E,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(L,{modelValue:R.receivedDate,"onUpdate:modelValue":o[2]||(o[2]=e=>R.receivedDate=e),mask:"DD/MM/YYYY"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",g,[(0,a.bo)((0,a.bF)(I,{flat:"",color:"primary",label:"Close"},null,512),[[ee]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])])])),_:1})])),_:1}),(0,a.bF)(K,{class:"card"},{default:(0,a.k6)((()=>[(0,a.bF)(U,null,{default:(0,a.k6)((()=>[(0,a.bF)(j,{rows:R.rows,columns:R.columns,"row-key":"__rowId",flat:"",dense:"","hide-bottom":"",separator:"cell",class:"rg-table","rows-per-page-options":[0]},{header:(0,a.k6)((e=>[(0,a.bF)(O,{props:e},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.cols,(o=>((0,a.uX)(),(0,a.Wv)(W,{key:o.name,props:e,style:{"font-size":"1rem","font-weight":"bold"},class:"text-h5"},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(o.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,a.k6)((o=>[(0,a.bF)(O,{props:o,class:"row-hover"},{default:(0,a.k6)((()=>[(0,a.bF)(G,{key:"goods",props:o},{default:(0,a.k6)((()=>[(0,a.bF)(T,{dense:"",filled:"",modelValue:o.row.name,"onUpdate:modelValue":[e=>o.row.name=e,e=>R.onGoodsModelUpdate(e,o.row)],options:R.goodsFilteredOptions,onFilter:(e,t)=>R.onGoodsFilter(e,t,o.row),"use-input":"","input-debounce":"600",behavior:"menu","option-label":e=>e?.label??"","option-value":e=>e??null,onInputValue:()=>R.onGoodsSelected(o.row),onClear:()=>R.onGoodsCleared(o.row),clearable:""},{"no-option":(0,a.k6)((()=>[(0,a.bF)(N,null,{default:(0,a.k6)((()=>[(0,a.bF)(D,{class:"text-grey"},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.$t("noResults")),1)])),_:1})])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue","options","onFilter","option-label","option-value","onInputValue","onClear"])])),_:2},1032,["props"]),(0,a.bF)(G,{key:"quantity",props:o},{default:(0,a.k6)((()=>[(0,a.bF)(Q,{dense:"",filled:"",modelValue:o.row.quantity,"onUpdate:modelValue":[e=>o.row.quantity=e,e=>R.onQuantityChange(e,o.row)],modelModifiers:{number:!0},type:"number",min:"0","input-class":"text-left"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,a.bF)(G,{key:"goods_rate",props:o},{default:(0,a.k6)((()=>[(0,a.bF)(Q,{dense:"",filled:"",modelValue:o.row.goods_rate,"onUpdate:modelValue":e=>o.row.goods_rate=e,modelModifiers:{number:!0},type:"number",readonly:"","input-class":"text-right"},{prepend:(0,a.k6)((()=>[(0,a.bF)($,{name:"sym_r_payments"})])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,a.bF)(G,{key:"goods_total",props:o},{default:(0,a.k6)((()=>[(0,a.bF)(Q,{dense:"",filled:"",modelValue:o.row.goods_total,"onUpdate:modelValue":e=>o.row.goods_total=e,modelModifiers:{number:!0},type:"number",readonly:"","input-class":"text-right"},{prepend:(0,a.k6)((()=>[(0,a.bF)($,{name:"sym_r_calculate"})])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,a.bF)(G,{key:"actions",props:o,class:"text-center"},{default:(0,a.k6)((()=>[(0,a.bF)(I,{round:"",dense:"",flat:"",color:"negative",icon:"sym_r_delete",onClick:e=>R.deleteRow(o.rowIndex)},{default:(0,a.k6)((()=>[(0,a.bF)(M,(0,n._B)((0,a.Ng)(R.tooltip)),{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.$t("index.removeRow")),1)])),_:1},16)])),_:2},1032,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"]),(0,a.Lk)("div",b,[(0,a.bF)(I,{outline:"",rounded:"",color:"positive",icon:"sym_r_add",label:e.$t("receivegoods.view_receivegoods.addRow"),class:"text-capitalize",onClick:R.addRow},null,8,["label","onClick"])])])),_:1}),(0,a.bF)(B,{spaced:""}),(0,a.bF)(U,{class:"row q-col-gutter-md items-stretch"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",_,[(0,a.bF)(H,{rounded:""},{default:(0,a.k6)((()=>[(0,a.Lk)("div",y,[(0,a.eW)((0,n.v_)(e.$t("tips")||"Tips")+": ",1),(0,a.Lk)("span",f,(0,n.v_)(e.$t("receivegoods.view_receivegoods.tipMessage")),1)])])),_:1})]),(0,a.Lk)("div",w,[(0,a.bF)(K,{flat:"",bordered:"",class:"totals-card"},{default:(0,a.k6)((()=>[(0,a.bF)(U,{class:"row items-center justify-between"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",h,(0,n.v_)(e.$t("receivegoods.view_receivegoods.grandTotalAmount")),1),(0,a.Lk)("div",k,(0,n.v_)(R.formatNumber(R.supertotal)),1)])),_:1}),(0,a.bF)(B),(0,a.bF)(U,{class:"row items-center justify-between"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",F,(0,n.v_)(e.$t("receivegoods.view_receivegoods.grandTotalWeight")),1),(0,a.Lk)("div",C,(0,n.v_)(R.formatNumber(R.totalWeight)),1)])),_:1})])),_:1})])])),_:1})])),_:1}),(0,a.Lk)("div",q,[(0,a.Lk)("div",{style:(0,n.Tr)({background:R.PRINT_THEMES[R.selectedPrintTheme]?.primary,color:R.PRINT_THEMES[R.selectedPrintTheme]?.primary,width:"40px",height:"40px",borderRadius:"100%",marginRight:"12px"})},null,4),(0,a.bF)(T,{dense:"",options:R.printThemeOptions,modelValue:R.selectedPrintTheme,"onUpdate:modelValue":[o[4]||(o[4]=e=>R.selectedPrintTheme=e),R.onSelectPrintTheme],"emit-value":"","map-options":"","option-label":"label","option-value":"value",class:"color-select-btn",rounded:"",outlined:"",hint:e.$t("receivegoods.view_receivegoods.select_print_theme")},null,8,["options","modelValue","onUpdate:modelValue","hint"]),(0,a.Lk)("div",P,[(0,a.bF)(Y,{modelValue:R.showPrices,"onUpdate:modelValue":o[5]||(o[5]=e=>R.showPrices=e),dense:"",label:e.$t("inventory.view_inventoryitemdetail.view_print.show_prices")},null,8,["modelValue","label"])]),(0,a.bF)(I,{unelevated:"",icon:"sym_r_save",label:e.$t("receivegoods.view_receivegoods.save"),class:"action-btn",onClick:R.tryOpenSubmitDialog,disable:!R.canSubmit||R.loading},null,8,["label","onClick","disable"])]),(0,a.bF)(J,{modelValue:R.submitDialog,"onUpdate:modelValue":o[6]||(o[6]=e=>R.submitDialog=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(K,{style:{"min-width":"360px","max-width":"92vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(U,{class:"row items-center q-gutter-sm"},{default:(0,a.k6)((()=>[(0,a.bF)(z,{icon:"sym_r_check",color:"primary","text-color":"white"}),(0,a.Lk)("div",S,(0,n.v_)(e.$t("receivegoods.view_receivegoods.confirmSave")),1)])),_:1}),(0,a.bF)(B),(0,a.bF)(U,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.$t("receivegoods.view_receivegoods.confirmSaveContent")),1)])),_:1}),(0,a.bF)(X,{align:"right",class:"q-pa-md"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(I,{flat:"",label:e.$t("receivegoods.view_receivegoods.cancel"),color:"negative",icon:"sym_r_close"},null,8,["label"]),[[ee]]),(0,a.bF)(I,{color:"primary",label:e.$t("receivegoods.view_receivegoods.save"),icon:"sym_r_check",onClick:R.submitData},null,8,["label","onClick"]),(0,a.bF)(I,{color:"accent",label:e.$t("receivegoods.view_receivegoods.saveAndPrint"),icon:"sym_r_print_add",onClick:R.asyncSaveAndPrint},null,8,["label","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])),_:1})])),_:1})}t(310),t(5962),t(2203),t(95),t(6724),t(2802),t(9240);var x=t(555),V=t(3537),A=t(4907),$=t(1271),D=t(2261),N=t(7144);let T=0;const I=()=>({__rowId:`row-${Date.now()}-${T++}`,name:null,quantity:null,goods_rate:0,goods_weight:0,goods_total:0}),L={name:"ReceiveGoodsPage",components:{ReceiveGoodsPrint:(0,a.$V)((()=>t.e(758).then(t.bind(t,7758))))},setup(){const{t:e}=(0,V.s9)(),o=(0,A.A)(),t=(0,x.KR)(!1),l=(0,x.KR)(!1),n=(0,x.KR)((new Date).toLocaleDateString("en-MY")),r=(0,x.KR)(null),s=(0,x.KR)(null),i=(0,x.KR)([]),d=(0,x.KR)([]),u=(0,x.KR)([]),c=(0,x.KR)([]),m=(0,x.KR)([]),p=(0,x.KR)([]),v={requiredRule:o=>!!o&&""!==o.trim()||e("error.input.required"),dateRule:o=>/^\d{2}\/\d{2}\/\d{4}$/.test(o)||e("error.input.dateValue"),customerRule:o=>c.value.some((e=>e.value===o))||e("error.invalidSelection"),companyRule:o=>!o||(m.value.some((e=>e.value===o))||e("error.invalidSelection"))},g=e=>/^\d{2}\/\d{2}\/\d{4}$/.test(e),b=e=>c.value.some((o=>o.value===e)),_=(0,x.KR)(!0),y=(0,x.KR)(!0),f=(0,x.KR)([I(),I(),I(),I()]),w=(0,x.KR)(0),h=(0,x.KR)(0),k=[{name:"goods",label:e("receivegoods.view_receivegoods.particular"),field:"name",align:"left"},{name:"quantity",label:e("receivegoods.view_receivegoods.quantity"),field:"quantity",align:"left",style:"max-width:150px;min-width:140px;"},{name:"goods_rate",label:e("receivegoods.view_receivegoods.rate"),field:"goods_rate",align:"right",style:"max-width:150px;min-width:140px;"},{name:"goods_total",label:e("receivegoods.view_receivegoods.total"),field:"goods_total",align:"right",style:"max-width:150px;min-width:140px;"},{name:"actions",label:e("receivegoods.view_receivegoods.delete"),field:"__actions",align:"center"}],F=(e,o)=>(t,a)=>{const l=(t||"").toString().toLowerCase();a((()=>{o.value=l?e.value.filter((e=>e.label.toLowerCase().includes(l))):e.value}))},C=F(i,c),q=F(d,m),P=F(u,p);function S(e,o){_.value=!0,C(e,o)}function R(e,o){y.value=!0,q(e,o)}function T(e,o,t){P(e,o)}const L=()=>{w.value=f.value.reduce(((e,o)=>e+(Number(o.goods_total)||0)),0),h.value=f.value.reduce(((e,o)=>{const t=Number(o.name?.goods_weight)||0,a=Number(o.quantity)||0;return e+t*a}),0)};function E(e){if(null===e||void 0===e||""===e)return null;const o=Number(e);return Number.isNaN(o)?null:o}const Q=e=>{e.goods_rate=e?.name?Math.floor(Number(e.name.goods_rate)||0):0;const o=E(e.quantity);e.quantity=null===o?null:o,e.goods_total=(Number(e.goods_rate)||0)*(o||0),L()},U=(0,x.KR)(null),K=e=>{const o=i.value.find((e=>e.value===r.value))?.label,t=f.value.filter((e=>e.name&&Number(e.quantity)>0)).map((e=>{let o="-",t=e.goods_rate||0;if(e.name)if("object"===typeof e.name)o=e.name.label||e.name.name||"-",t=Number(e.name.goods_rate||e.goods_rate||0);else{const a=u.value.find((o=>o.value===e.name));o=a?.label||e.name?.toString()||"-",t=Number(a?.goods_rate||e.goods_rate||0)}const a=Number(e.quantity)||0,l=(Number(t)||0)*a;return{goods_id:e.name?.value??e.name??null,goods_name:o,quantity:a,goods_rate:be.value?t:"",goods_total:be.value?l:""}})),a=8;if(t.length<a){const e={goods_id:null,goods_name:"",quantity:"",goods_rate:"",goods_total:""};while(t.length<a)t.push({...e})}return{ConsignmentData:{received_date:n.value,customer_name:o,total_amount:be.value?w.value:"",consignment_code:e,company_logo:`/statics/print/logo-${we.value}.png`,company_logo2:`/statics/print/mahar-logo-${we.value}.png`},receiveGoodsData:t}},W=(0,a.EW)((()=>{const e=U.value?.receiveGoodsData||[],o=8,t=e.map((e=>({...e}))),a=[];for(let e=0;e<t.length;e+=o){const l=t.slice(e,e+o);while(l.length<o)l.push({});a.push(l)}if(0===a.length){const e=Array.from({length:o},(()=>({})));a.push(e)}return a})),O=()=>{U.value=null,be.value=!1},G=async e=>{const t=(e,t)=>{const a=t?`: ${t instanceof Error?t.message:String(t)}`:"";o.notify({type:"negative",message:`Print operation failed${a}. ${e}`,timeout:5e3})};let l=!1;try{U.value=K(e),he(we.value);const o=document.getElementById("print-wrapper");if(!o)return void t("Print wrapper element not found.",null);await(0,a.dY)(),await new Promise((e=>setTimeout(e,200))),ue(),window.print()}catch(e){t("Unable to prepare print content",e)}finally{try{Fe(),l=!0}catch(e){l||t("Theme restoration failed.",e)}O()}},M=async()=>{const e=await de(!0);e?.status&&e&&await G(e.consignment_code)};function j(e,o){o.name=e,Q(o)}function B(e){Q(e)}function H(e){e.name=null,Q(e)}function Y(e,o){o.quantity=E(e),Q(o)}function z(){_.value=!0}function X(){_.value=!1}function J(){_.value=!0,r.value=null}function Z(){y.value=!0}function ee(){y.value=!1}function oe(){s.value=null,y.value=!0}const te=()=>f.value.push(I()),ae=e=>{f.value.splice(e,1),L()},le=(0,a.EW)((()=>f.value.filter((e=>e.name&&Number(e.quantity)>0)))),ne=(0,a.EW)((()=>!!b(r.value)&&!!g(n.value)&&le.value.length>0)),re=(0,x.KR)(!1),se=(0,a.EW)((()=>!r.value&&re.value)),ie=()=>{re.value=!0,ne.value?l.value=!0:o.notify({type:"warning",message:e("error.fillRequired")})},de=async(t=!1)=>{try{o.loading.show();const a={ConsignmentData:{received_date:n.value,customer:r.value,company:s.value,total_amount:w.value,total_weight:h.value},receiveGoodsData:le.value.map((e=>({goods:e.name.value,quantity:e.quantity})))},l=await(0,D.postauth)("consignment/",a);return"200"!==l.code?(o.notify({color:"negative",icon:"sym_r_close",message:e("receivegoods.view_receivegoods.errorDataCreate")}),!1):(t||(ue(),O()),o.notify({color:"positive",icon:"sym_r_check",message:e("receivegoods.view_receivegoods.successDataCreate")}),{status:!0,consignment_code:l.data||null})}catch(t){return ue(),o.notify({color:"negative",icon:"sym_r_close",message:e("receivegoods.view_receivegoods.errorDataCreate")}),!1}finally{l.value=!1,o.loading.hide()}},ue=()=>{f.value=[I(),I(),I(),I()],r.value=null,s.value=null,w.value=0,h.value=0,re.value=!1,_.value=!0,y.value=!0},ce=async()=>{$.A.has("customer")||await(0,N.e7)("customer"),$.A.has("company")||await(0,N.e7)("company"),$.A.has("goods")||await(0,N.e7)("goods"),i.value=($.A.getItem("customer")||[]).map((e=>({label:e.name,value:e.id}))),d.value=($.A.getItem("company")||[]).map((e=>({label:e.name,value:e.id}))),u.value=($.A.getItem("goods")||[]).map((e=>({label:e.name,value:e.id,goods_rate:e.goods_rate,goods_weight:e.goods_weight}))),c.value=i.value,m.value=d.value,p.value=u.value};(0,a.sV)(ce);const me=e=>{const o=Number(e);return o<=0||isNaN(o)?"":(new Intl.NumberFormat).format(o)},pe=e=>{const o=Number(e||0);return new Intl.NumberFormat(void 0,{maximumFractionDigits:0}).format(o)},ve=e=>{if(!e)return"-";try{const o=new Date(e);if(Number.isNaN(o.getTime()))return String(e);const t=String(o.getDate()).padStart(2,"0"),a=String(o.getMonth()+1).padStart(2,"0"),l=o.getFullYear();return`${t}/${a}/${l}`}catch(o){return String(e)}},ge={class:"bg-blue text-white shadow-4",offset:[10,10],contentStyle:"font-size:12px"},be=(0,x.KR)(!1),_e="receivegoods_print_theme",ye=[{label:e("color.blue"),value:"blue"},{label:e("color.red"),value:"red"}],fe={blue:{primary:"#1E3A8A",secondary:"#DBEAFE"},red:{primary:"#DC2626",secondary:"#FECACA"}},we=(0,x.KR)(sessionStorage.getItem(_e)||"blue"),he=e=>{const o=fe[e]??fe.blue;document.documentElement.style.setProperty("--q-v-primary",o.primary),document.documentElement.style.setProperty("--q-v-secondary",o.secondary)},ke={};function Fe(){const e=document.getElementById("print-wrapper"),o=e||document.documentElement;if(Object.prototype.hasOwnProperty.call(ke,"--q-v-primary")){const e=ke["--q-v-primary"];e?o.style.setProperty("--q-v-primary",e):o.style.removeProperty("--q-v-primary")}if(Object.prototype.hasOwnProperty.call(ke,"--q-v-secondary")){const e=ke["--q-v-secondary"];e?o.style.setProperty("--q-v-secondary",e):o.style.removeProperty("--q-v-secondary")}Object.keys(ke).forEach((e=>delete ke[e]))}function Ce(e){e&&(we.value=e,sessionStorage.setItem(_e,e),he(e))}return(0,a.sV)((()=>{he(we.value)})),{t:e,tooltip:ge,loading:t,submitDialog:l,receivedDate:n,selectedCustomer:r,selectedCompany:s,customerFilteredOptions:c,companyFilteredOptions:m,goodsFilteredOptions:p,customerUseInput:_,companyUseInput:y,rows:f,columns:k,addRow:te,deleteRow:ae,onRowChange:Q,onCustomerFilter:S,onCompanyFilter:R,onGoodsFilter:T,onGoodsSelected:B,onGoodsCleared:H,onGoodsModelUpdate:j,onQuantityChange:Y,onCustomerSelected:X,onCustomerCleared:J,onCustomerPopupShow:z,onCompanySelected:ee,onCompanyCleared:oe,onCompanyPopupShow:Z,supertotal:w,totalWeight:h,canSubmit:ne,tryOpenSubmitDialog:ie,submitData:de,formatNumber:me,formatDate:ve,formatCurrency:pe,customerError:se,buildPrintPayloadFromState:K,startDirectPrint:G,asyncSaveAndPrint:M,printData:U,paginatedRows:W,printThemeOptions:ye,selectedPrintTheme:we,onSelectPrintTheme:Ce,PRINT_THEMES:fe,validate:v,showPrices:be}}};var E=t(2807),Q=t(7716),U=t(3316),K=t(4189),W=t(4940),O=t(492),G=t(124),M=t(5173),j=t(9270),B=t(1356),H=t(8462),Y=t(6384),z=t(6653),X=t(4488),J=t(7722),Z=t(5262),ee=t(7410),oe=t(386),te=t(6868),ae=t(6908),le=t(2156),ne=t(3952),re=t(2669),se=t(8672),ie=t(8582),de=t.n(ie);const ue=(0,E.A)(L,[["render",R]]),ce=ue;de()(L,"components",{QPage:Q.A,QCard:U.A,QCardSection:K.A,QSelect:W.A,QIcon:O.A,QItem:G.A,QItemSection:M.A,QInput:j.A,QPopupProxy:B.A,QDate:H.A,QBtn:Y.A,QTable:z.A,QTr:X.A,QTh:J.A,QTd:Z.A,QTooltip:ee.A,QSeparator:oe.A,QBanner:te.A,QToggle:ae.A,QDialog:le.A,QAvatar:ne.A,QCardActions:re.A}),de()(L,"directives",{ClosePopup:se.A})}}]);