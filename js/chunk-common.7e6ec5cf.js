"use strict";(globalThis["webpackChunktbls"]=globalThis["webpackChunktbls"]||[]).push([[996],{5971:(e,t,l)=>{l.d(t,{A:()=>_});var a=l(1758),o=l(2901),s=l(555);const n={class:"row items-center justify-end"},u={key:0,class:"truncate-cell"},r={key:1,class:"truncate-cell"},d={__name:"EditableCell",props:{row:Object,field:String,label:String,rules:Array,mask:String,maxLength:Number,editId:[String,Number],modelValue:[String,Number,Boolean],translate:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},booleanField:{type:Boolean,default:()=>!1},optionsLabel:{type:String,default:"label"},optionsValue:{type:String,default:"value"},dateField:{type:Boolean,default:()=>!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,d=t,i=(0,a.EW)((()=>l.row.id===l.editId)),c=(0,s.KR)(l.modelValue??"");function p(e){d("update:modelValue",e)}(0,a.wB)((()=>l.modelValue),(e=>{c.value=e??""}));const m=(0,a.EW)((()=>{const e=l.row[l.field];return e?"string"!==typeof e?e:e.length>55?e.slice(0,55)+"...":e:""}));return(t,s)=>{const d=(0,a.g2)("q-btn"),g=(0,a.g2)("q-date"),v=(0,a.g2)("q-popup-proxy"),y=(0,a.g2)("q-icon"),b=(0,a.g2)("q-input"),f=(0,a.g2)("q-select"),k=(0,a.g2)("q-td"),h=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(k,{props:l,key:l.field,class:"edit-input"},{default:(0,a.k6)((()=>[i.value?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[l.dateField?((0,a.uX)(),(0,a.Wv)(b,{key:0,dense:"",outlined:"",modelValue:c.value,"onUpdate:modelValue":[s[1]||(s[1]=e=>c.value=e),p],label:e.label,mask:"date",rules:e.rules,"lazy-rules":"",maxlength:10},{append:(0,a.k6)((()=>[(0,a.bF)(y,{name:"sym_r_event",color:"primary",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(v,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{modelValue:c.value,"onUpdate:modelValue":[s[0]||(s[0]=e=>c.value=e),p]},{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[(0,a.bo)((0,a.bF)(d,{unelevated:"",label:"Close",color:"primary",flat:""},null,512),[[h]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","label","rules"])):l.booleanField?((0,a.uX)(),(0,a.Wv)(f,{key:1,dense:"",outlined:"",modelValue:c.value,"onUpdate:modelValue":[s[2]||(s[2]=e=>c.value=e),p],label:e.label,options:l.options,"option-label":"label","option-value":"value","emit-value":"","map-options":"",rules:e.rules,"lazy-rules":""},null,8,["modelValue","label","options","rules"])):l.options.length?((0,a.uX)(),(0,a.Wv)(f,{key:2,dense:"",outlined:"",modelValue:c.value,"onUpdate:modelValue":[s[3]||(s[3]=e=>c.value=e),p],label:e.label,options:l.options,"option-label":l.optionsLabel,"option-value":l.optionsValue,"emit-value":"","map-options":""},null,8,["modelValue","label","options","option-label","option-value"])):((0,a.uX)(),(0,a.Wv)(b,{key:3,dense:"",outlined:"",modelValue:c.value,"onUpdate:modelValue":[s[4]||(s[4]=e=>c.value=e),p],label:e.label,rules:e.rules,"lazy-rules":"",mask:e.mask,maxlength:e.maxLength||255},null,8,["modelValue","label","rules","mask","maxlength"]))],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[l.booleanField?((0,a.uX)(),(0,a.CE)("div",u,(0,o.v_)(c.value?t.$t("index.yes"):t.$t("index.no")),1)):((0,a.uX)(),(0,a.CE)("div",r,(0,o.v_)(e.translate?t.$t(m.value):m.value),1))],64))])),_:1},8,["props"])}}};var i=l(2807),c=l(5262),p=l(9270),m=l(492),g=l(1356),v=l(8462),y=l(6384),b=l(4940),f=l(8672),k=l(8582),h=l.n(k);const w=(0,i.A)(d,[["__scopeId","data-v-14a58574"]]),_=w;h()(d,"components",{QTd:c.A,QInput:p.A,QIcon:m.A,QPopupProxy:g.A,QDate:v.A,QBtn:y.A,QSelect:b.A}),h()(d,"directives",{ClosePopup:f.A})},7144:(e,t,l)=>{l.d(t,{Fd:()=>s,e7:()=>n});l(310),l(5962),l(95),l(2802);var a=l(1271);const{getauth:o}=l(2261);async function s(e=!1){const t=["customer","company","goods","goodstype"];await Promise.all(t.map((async t=>{if(!a.A.has(t)||e){const e=await o(`${t}?nopage=true`);a.A.set(`${t}`,e.data)}})))}async function n(e,t=null,l=null){const s=l||e;let n=null;const r=a.A.getItem(s)||[];r&&r.length>0&&(n=r.reduce(((e,t)=>{const l=t.update_time;return l>e?l:e})).update_time);let d=`${e}?nopage=true`;t&&(d=`${e}?page=${t}`),n&&(d+=`${d.includes("?")?"&":"?"}updated_after=${n}`);const i=await o(d),c=i.data||i.results?.data||[],p=u(r,c),m=i.deletedIds||[],g=p.filter((e=>!m.includes(e.id)));a.A.set(s,g),console.log(i),console.log(`ðŸ”„ ${s} cache updated with ${c.length} new items.`)}function u(e,t){const l=new Map;return[...e,...t].forEach((e=>{l.set(e.id,e)})),Array.from(l.values()).sort(((e,t)=>e.id>t.id?-1:e.id<t.id?1:0))}},7268:(e,t,l)=>{l.d(t,{A:()=>x});var a=l(1758),o=l(2901);const s={class:"row items-center"},n={class:"text-grey-7",style:{"min-width":"200px","font-weight":"500"}},u={class:"text-body1",style:{flex:"1","white-space":"pre-line","word-break":"break-word"}};function r(e,t,l,r,d,i){const c=(0,a.g2)("q-space"),p=(0,a.g2)("q-tooltip"),m=(0,a.g2)("q-btn"),g=(0,a.g2)("q-bar"),v=(0,a.g2)("q-separator"),y=(0,a.g2)("q-card-section"),b=(0,a.g2)("q-card"),f=(0,a.g2)("q-dialog"),k=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(f,{"model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t)),"transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{class:"shadow-24 column no-wrap custom-scrollbar-color",style:{"max-height":"90vh","max-width":"500px",width:"90vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(g,{class:"bg-primary text-white",style:{height:"50px","flex-shrink":"0"}},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t(`goods.view_goods${e.goodstype}.view_goods${e.goodstype}_tip`))+" ",1),(0,a.bF)(c),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(m,{dense:"",flat:"",icon:"sym_r_close"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{class:"bg-gray text-white shadow-4"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("index.close")),1)])),_:1})])),_:1})),[[k]])])),_:1}),(0,a.bF)(y,{class:"scroll",style:{"overflow-y":"auto",flex:"1"}},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.processedData,((t,l,r)=>((0,a.uX)(),(0,a.CE)("div",{key:l,class:"q-py-sm"},[(0,a.Lk)("div",s,[(0,a.Lk)("div",n,(0,o.v_)(e.$t(`goods.view_goods${e.goodstype}.${l}`)),1),(0,a.Lk)("div",u,(0,o.v_)(t),1)]),r<Object.keys(e.processedData).length-1?((0,a.uX)(),(0,a.Wv)(v,{key:0,spaced:""})):(0,a.Q3)("",!0)])))),128))])),_:1})])),_:1})])),_:1},8,["model-value"])}l(310),l(6724),l(9240);var d=l(3537);const i=(0,a.pM)({name:"GoodsViewDialog",emits:["update:modelValue"],props:{modelValue:{type:Boolean,default:!1},goodstype:{type:String,default:""},data:{type:Object,default:()=>({})}},setup(e){const{t}=(0,d.s9)(),l=["goods_rate"],o=(0,a.EW)((()=>({[t("kyats")]:["goods_rate"],[t("viss")]:["goods_weight"]}))),s=e=>{if(null===e||void 0===e)return null;if("number"===typeof e&&isFinite(e))return e;const t=String(e).trim().replace(/[, ]+/g,"");if(""===t)return null;const l=Number(t);return Number.isFinite(l)?l:null};function n(e,t){if(null===t||void 0===t)return"";if("string"===typeof t&&""===t.trim())return"";const a=String(e).toLowerCase(),n=l.map((e=>e.toLowerCase())).includes(a)||Object.values(o.value).some((e=>e.map((e=>e.toLowerCase())).includes(a)));if(!n){if("object"===typeof t)try{return JSON.stringify(t)}catch(e){return String(t)}return String(t)}const u=s(t);if(null===u)return String(t);let r="";for(const[e,t]of Object.entries(o.value))if(t.map((e=>e.toLowerCase())).includes(a)){r=e;break}const d=u.toLocaleString(void 0);return r?`${d} ${r}`:d}const u=(0,a.EW)((()=>{const t=e.data||{},l={};for(const e of Object.keys(t))l[e]=n(e,t[e]);return l}));return{processedData:u}}});var c=l(2807),p=l(2156),m=l(3316),g=l(8670),v=l(3676),y=l(6384),b=l(7410),f=l(4189),k=l(386),h=l(8672),w=l(8582),_=l.n(w);const A=(0,c.A)(i,[["render",r]]),x=A;_()(i,"components",{QDialog:p.A,QCard:m.A,QBar:g.A,QSpace:v.A,QBtn:y.A,QTooltip:b.A,QCardSection:f.A,QSeparator:k.A}),_()(i,"directives",{ClosePopup:h.A})},9571:(e,t,l)=>{l.d(t,{A:()=>w});var a=l(1758),o=l(2901);const s={class:"row items-center"},n={class:"text-grey-7",style:{"min-width":"180px","font-weight":"500"}},u={class:"text-body1",style:{flex:"1","white-space":"pre-line","word-break":"break-word"}},r={__name:"ViewDialog",props:{modelValue:Boolean,data:Object,trucktype:{type:String,default:""}},emits:["update:modelValue"],setup(e){return(t,l)=>{const r=(0,a.g2)("q-space"),d=(0,a.g2)("q-tooltip"),i=(0,a.g2)("q-btn"),c=(0,a.g2)("q-bar"),p=(0,a.g2)("q-separator"),m=(0,a.g2)("q-card-section"),g=(0,a.g2)("q-card"),v=(0,a.g2)("q-dialog"),y=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(v,{"model-value":e.modelValue,"onUpdate:modelValue":l[0]||(l[0]=e=>t.$emit("update:modelValue",e)),"transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{class:"shadow-24 column no-wrap custom-scrollbar-color",style:{"max-height":"90vh","max-width":"500px",width:"90vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"bg-primary text-white rounded-borders",style:{height:"50px","flex-shrink":"0"}},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.$t(`truck.view_truck${e.trucktype}.view_truck${e.trucktype}_tip`))+" ",1),(0,a.bF)(r),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(i,{dense:"",flat:"",icon:"sym_r_close"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"bg-gray text-white shadow-4"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.$t("index.close")),1)])),_:1})])),_:1})),[[y]])])),_:1}),(0,a.bF)(m,{class:"scroll",style:{"overflow-y":"auto",flex:"1"}},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.data,((l,r,d)=>((0,a.uX)(),(0,a.CE)("div",{key:r,class:"q-py-sm"},[(0,a.Lk)("div",s,[(0,a.Lk)("div",n,(0,o.v_)(t.$t(`truck.view_truck${e.trucktype}.${r}`)),1),(0,a.Lk)("div",u,(0,o.v_)(l||""),1)]),d<Object.keys(e.data).length-1?((0,a.uX)(),(0,a.Wv)(p,{key:0,spaced:""})):(0,a.Q3)("",!0)])))),128))])),_:1})])),_:1})])),_:1},8,["model-value"])}}};var d=l(2156),i=l(3316),c=l(8670),p=l(3676),m=l(6384),g=l(7410),v=l(4189),y=l(386),b=l(8672),f=l(8582),k=l.n(f);const h=r,w=h;k()(r,"components",{QDialog:d.A,QCard:i.A,QBar:c.A,QSpace:p.A,QBtn:m.A,QTooltip:g.A,QCardSection:v.A,QSeparator:y.A}),k()(r,"directives",{ClosePopup:b.A})}}]);