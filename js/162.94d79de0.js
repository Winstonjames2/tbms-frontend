"use strict";(globalThis["webpackChunktbls"]=globalThis["webpackChunktbls"]||[]).push([[162],{9162:(t,e,a)=>{a.r(e),a.d(e,{default:()=>V});var o=a(1758),n=a(2901),i=a(555),l=a(4907),s=a(455);const r={class:"header-left"},d={class:"subtitle"},c={class:"header-right text-right"},g={class:"grand-amount"},p={class:"col-6"},u={class:"info-value"},m={class:"col-6 text-right"},v={class:"info-value"},f={class:"table-wrap"},b={class:"items-table",cellpadding:"0",cellspacing:"0"},h={key:0},k={class:"td-particular"},y={class:"row-title"},_={class:"td-right"},x={class:"td-right"},w={class:"td-right td-bold"},L={class:"row justify-end items-center",style:{width:"100%"}},q={class:"totals-card"},C={class:"row totals-row"},D={class:"totals-value"},N={class:"row totals-row grand-row items-center"},A={class:"grand-value"},F={key:1,class:"text-center q-pa-xl"},z={__name:"ReceiveGoodsPrint",setup(t){const e=(0,l.A)(),a=(0,s.lq)(),z=(0,i.KR)(null),T=t=>(new Intl.NumberFormat).format(Number(t||0)),S=t=>{const e=Number(t||0);return new Intl.NumberFormat(void 0,{maximumFractionDigits:0}).format(e)},E=t=>{if(!t)return"-";try{const e=String(t).replace(/\//g,"-"),a=new Date(e);return Number.isNaN(a.getTime())?String(t):a.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"2-digit"})}catch(e){return String(t)}},Q=async()=>{const t=document.getElementById("print-layout");if(!t)return void e.notify({type:"negative",message:"Print content not found."});const a=t.innerHTML,o='\n    <style>\n      html,body { margin:0; padding:0; background:#fff; color:#222; font-family: Inter, Roboto, "Helvetica Neue", Arial, sans-serif; }\n      .print-card { width:210mm; min-height:297mm; box-sizing:border-box; padding:18mm; background:#fff; }\n      .title { font-size:28px; color:#f44336; font-weight:800; letter-spacing:0.5px; }\n      .subtitle { margin-top:6px; color:#666; font-size:14px; }\n      .grand-amount { color:#f44336; font-weight:700; font-size:20px; }\n      .grand-label { color:#999; font-size:12px; margin-top:6px; }\n      .info-label { color:#777; font-size:13px; margin-bottom:6px; }\n      .info-value { font-size:16px; font-weight:600; }\n      .table-wrap { margin-top:6px; }\n      .items-table { width:100%; border-collapse:collapse; font-size:13px; }\n      .items-table thead th { background:#f5f6f7; font-weight:700; padding:12px 10px; border-bottom:1px solid #e6e6e6; text-align:left; }\n      .items-table tbody td { padding:12px 10px; border-bottom:1px solid #f0f0f0; vertical-align:middle; color:#222; }\n      .col-particular { width:56%; }\n      .col-qty, .col-rate, .col-total { width:14%; text-align:right; }\n      .td-right { text-align:right; }\n      .td-bold { font-weight:700; }\n      .totals-card { width:360px; padding:12px 18px; border-radius:6px; background:transparent; }\n      .totals-row { display:flex; justify-content:space-between; align-items:center; padding:6px 0; }\n      .totals-label { color:#777; font-size:14px; }\n      .totals-value { font-weight:600; font-size:14px; }\n      .grand-row { padding-top:8px; }\n      .grand-text { color:#f44336; font-weight:700; font-size:18px; }\n      .grand-value { color:#f44336; font-weight:800; font-size:22px; margin-left:8px; }\n      @page { size: A4; margin: 12mm; }\n      @media print {\n        body { -webkit-print-color-adjust: exact; -webkit-font-smoothing:antialiased; }\n      }\n    </style>\n  ',n=window.open("","_blank","toolbar=0,location=0,menubar=0,width=1000,height=800");if(!n)return void e.notify({type:"negative",message:"Popup blocked: enable popups for printing."});const i=n.document;i.open(),i.write(`<!doctype html>\n    <html>\n      <head>\n        <meta charset="utf-8">\n        <title>Receive Goods Voucher</title>\n        ${o}\n      </head>\n      <body>\n        <div class="print-card">\n          ${a}\n        </div>\n      </body>\n    </html>`),i.close(),n.onload=()=>{setTimeout((()=>{try{n.focus(),n.print()}catch(t){console.error("print error",t),e.notify({type:"negative",message:"Print failed."})}finally{setTimeout((()=>{try{n.close()}catch(t){}}),300)}}),160)}};return(0,o.sV)((()=>{const t=a?.query?.payload;if(t)try{const e=decodeURIComponent(String(t));return void(z.value=JSON.parse(e))}catch(a){try{return void(z.value=JSON.parse(String(t)))}catch(t){console.error("Failed parse payload",a,t),e.notify({type:"negative",message:"Error loading print data."})}}z.value={ConsignmentData:{received_date:"2025-09-26",customer_name:"From iPhone",company_name:"Myet Tun",total_amount:262e3,total_weight:83170},receiveGoodsData:[{goods_id:1,goods_name:"Goods Data",quantity:20,goods_rate:600,goods_total:12e3},{goods_id:2,goods_name:"ဆီ",quantity:30,goods_rate:5e3,goods_total:15e4},{goods_id:3,goods_name:"winstonjames",quantity:20,goods_rate:1e3,goods_total:2e4},{goods_id:4,goods_name:"jason",quantity:40,goods_rate:2e3,goods_total:8e4}]}})),(t,e)=>{const a=(0,o.g2)("q-card-section"),i=(0,o.g2)("q-separator"),l=(0,o.g2)("q-card"),s=(0,o.g2)("q-icon"),R=(0,o.g2)("q-btn"),G=(0,o.g2)("q-page-sticky"),I=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(I,{class:"print-page-container"},{default:(0,o.k6)((()=>[z.value?((0,o.uX)(),(0,o.Wv)(l,{key:0,flat:"",class:"print-card",id:"print-layout"},{default:(0,o.k6)((()=>[(0,o.bF)(a,{class:"header-section row items-start justify-between no-wrap q-px-lg q-pt-lg q-pb-xs"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",r,[e[0]||(e[0]=(0,o.Lk)("div",{class:"title"},"RECEIVE GOODS VOUCHER",-1)),(0,o.Lk)("div",d,(0,n.v_)(z.value?.ConsignmentData?.company_name||"Your Company Name"),1)]),(0,o.Lk)("div",c,[(0,o.Lk)("div",g,(0,n.v_)(S(z.value?.ConsignmentData?.total_amount)),1),e[1]||(e[1]=(0,o.Lk)("div",{class:"grand-label"},"GRAND TOTAL AMOUNT",-1))])])),_:1}),(0,o.bF)(i),(0,o.bF)(a,{class:"info-section row q-col-gutter-md q-pt-md q-pb-none q-px-lg"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",p,[e[2]||(e[2]=(0,o.Lk)("div",{class:"info-label"},"Customer:",-1)),(0,o.Lk)("div",u,(0,n.v_)(z.value?.ConsignmentData?.customer_name||"N/A"),1)]),(0,o.Lk)("div",m,[e[3]||(e[3]=(0,o.Lk)("div",{class:"info-label"},"Date Received:",-1)),(0,o.Lk)("div",v,(0,n.v_)(E(z.value?.ConsignmentData?.received_date)),1)])])),_:1}),(0,o.bF)(a,{class:"q-pa-lg q-pt-md q-pb-lg"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",f,[(0,o.Lk)("table",b,[e[5]||(e[5]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"col-particular"},"Particular"),(0,o.Lk)("th",{class:"col-qty"},"Quantity"),(0,o.Lk)("th",{class:"col-rate"},"Rate"),(0,o.Lk)("th",{class:"col-total"},"Total")])],-1)),(0,o.Lk)("tbody",null,[z.value?.receiveGoodsData?.length?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("tr",h,e[4]||(e[4]=[(0,o.Lk)("td",{colspan:"4",class:"text-center text-grey"},"No items",-1)]))),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(z.value.receiveGoodsData,((t,e)=>((0,o.uX)(),(0,o.CE)("tr",{key:`p-${e}`},[(0,o.Lk)("td",k,[(0,o.Lk)("div",y,(0,n.v_)(t.goods_name||t.name||"-"),1)]),(0,o.Lk)("td",_,(0,n.v_)(T(t.quantity)),1),(0,o.Lk)("td",x,(0,n.v_)(T(t.goods_rate)),1),(0,o.Lk)("td",w,(0,n.v_)(T(t.goods_total)),1)])))),128))])])])])),_:1}),(0,o.bF)(i),(0,o.bF)(a,{class:"footer-section q-px-lg q-pt-md q-pb-lg"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",L,[(0,o.Lk)("div",q,[(0,o.Lk)("div",C,[e[6]||(e[6]=(0,o.Lk)("div",{class:"totals-label"},"Total Weight:",-1)),(0,o.Lk)("div",D,(0,n.v_)(T(z.value?.ConsignmentData?.total_weight))+" Vs ",1)]),(0,o.bF)(i,{spaced:""}),(0,o.Lk)("div",N,[e[7]||(e[7]=(0,o.Lk)("div",{class:"grand-text"},"Grand Total:",-1)),(0,o.Lk)("div",A,(0,n.v_)(S(z.value?.ConsignmentData?.total_amount))+" Ks ",1)])])])])),_:1})])),_:1})):((0,o.uX)(),(0,o.CE)("div",F,[(0,o.bF)(s,{name:"sym_r_error",color:"negative",size:"3rem"}),e[8]||(e[8]=(0,o.Lk)("div",{class:"text-h6 q-mt-sm"},"No data provided for printing.",-1))])),z.value?((0,o.uX)(),(0,o.Wv)(G,{key:2,position:"bottom-right",offset:[18,18]},{default:(0,o.k6)((()=>[(0,o.bF)(R,{fab:"",icon:"sym_r_print",color:"primary",onClick:Q,disable:!z.value},null,8,["disable"])])),_:1})):(0,o.Q3)("",!0)])),_:1})}}};var T=a(2807),S=a(7716),E=a(3316),Q=a(4189),R=a(386),G=a(492),I=a(8783),P=a(6384),O=a(8582),X=a.n(O);const j=(0,T.A)(z,[["__scopeId","data-v-43896732"]]),V=j;X()(z,"components",{QPage:S.A,QCard:E.A,QCardSection:Q.A,QSeparator:R.A,QIcon:G.A,QPageSticky:I.A,QBtn:P.A})}}]);